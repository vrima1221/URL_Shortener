(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},42:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(29),s=n.n(a),o=n(9),i=(n(38),n(39),n(3)),l=n(1),u=function(){return Object(l.jsx)("h1",{children:"Page not found"})},j=n(8),h=n(4),b=n.n(h),d=n(6),f=n(5),O=(n(42),n(24)),x=n(33),m="https://localhost:7258/ShortUrl";function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={method:t};return n&&(r.body=JSON.stringify(n),r.headers={"Content-Type":"application/json; charset=UTF-8"}),fetch(m+e,r).then((function(e){if(!e.ok)throw new Error;return e.json()})).catch((function(e){return console.log(e)}))}var v=function(e){return p(e)},g=function(e,t){return p(e,"POST",t)},U=function(e){return p(e,"DELETE")},_=function(e){return v("/Get?id=".concat(e))},N=function(){var e=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v("/GetAll"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=(n(47),n(48),function(e){var t=e.message,n=e.isError;return Object(l.jsx)("div",{className:"error-notification",hidden:!n,children:t})}),L=function(e){var t=e.isError,n=e.errorMessage,r=e.onChange,c=e.currentUrl,a=e.onSubmit;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("form",{className:"form",action:"",onSubmit:a,children:[Object(l.jsx)("input",{className:"form__input",type:"url",placeholder:"Input URL to shrink",value:c,onChange:function(e){return r(e.target.value)}}),Object(l.jsx)("button",{className:"form__button",type:"submit",children:"Shrink"})]}),Object(l.jsx)(S,{isError:t,message:n})]})},R=(n(49),n(50),function(e){var t=e.url,n=e.onRemove,r=t.fullUrl,c=t.shortUrl,a=t.id;return console.log(c),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"fullUrl",children:Object(l.jsx)("a",{href:r,children:r})}),Object(l.jsx)("td",{children:Object(l.jsx)("a",{href:"https://localhost:7258/ShortUrl/GetShort?shortUrl=".concat(c),children:"https://localhost:7258/ShortUrl/GetShort?shortUrl=".concat(c)})}),Object(l.jsx)("td",{children:Object(l.jsx)(o.b,{to:"/".concat(a),children:"More"})}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{type:"button",onClick:function(){return n(a)},children:"\u2716"})})]})}),w=function(e){var t=e.urls,n=e.onRemove;return Object(l.jsxs)("table",{className:"table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Full URL"}),Object(l.jsx)("th",{children:"Short URL"}),Object(l.jsx)("th",{children:"More"}),Object(l.jsx)("th",{children:"Remove"})]}),t.map((function(e){return Object(l.jsx)(R,{url:e,onRemove:n},e.id)}))]})},y=n.p+"static/media/UrlShortenerLogo.870f8c13.png",k=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),s=Object(f.a)(a,2),o=s[0],i=s[1],u=Object(r.useState)(""),h=Object(f.a)(u,2),m=h[0],p=h[1],v=Object(r.useState)(""),_=Object(f.a)(v,2),S=_[0],R=_[1],k=function(e){i(!0),p(e),setTimeout((function(){return i(!1)}),3e3)},E=function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(t=e.sent)&&c(t.value);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){try{E()}catch(e){k("Unable to load URLs!")}}),[]);var C=Object(r.useMemo)((function(){return n}),[n]),G=C.some((function(e){return e.fullUrl===S}));return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("img",{className:"shortener-logo",src:y,alt:"URL shortener logo"}),Object(l.jsx)(L,{isError:o,errorMessage:m,onChange:R,currentUrl:S,onSubmit:function(e){if(e.preventDefault(),G)return k("URL is already shortened!"),void R("");if(!S.trim())return k("Please input your URL!"),void R("");var t="".concat(S.replace(/[^a-z]/g,"").slice(-6)),n={id:0,fullUrl:S,shortUrl:t};R("");try{(function(e){return g("/CreateEdit",Object(x.a)({},e))})(n).then((function(e){e?c((function(t){return[].concat(Object(j.a)(t),[e.value])})):k("Cant add new URL")}))}catch(r){k("Error")}}}),0!==C.length?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(w,{urls:C,onRemove:function(e){var t;(t=e,U("/Delete?id=".concat(t))).then((function(){return c((function(t){return t.filter((function(t){return t.id!==e}))}))})).catch((function(){return k("Unable to delete URL!")}))}})}):Object(l.jsx)(O.a,{visible:!0,height:"150",width:"150",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"})]})},E=(n(51),function(){var e=Object(r.useRef)(null),t=Object(r.useState)("A URL shortener is a tool that takes a long URL and generates a shorter, more manageable URL that redirects to the original URL when clicked. This is done using an API request with a search for the proper full link from the shortened version. You also can edit this text field."),n=Object(f.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),i=Object(f.a)(s,2),u=i[0],j=i[1];Object(r.useEffect)((function(){e.current&&e.current.focus()}),[u]);return Object(l.jsxs)("div",{className:"about",children:[Object(l.jsx)("h1",{className:"about__title",children:"Learn more about URL Shortener!"}),Object(l.jsx)("div",{className:"about__text-container",children:u?Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(l.jsx)("input",{type:"text",ref:e,className:"about__text-field",value:c,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){"Escape"===e.key&&j(!1)},onBlur:function(){return j(!1)}})}):Object(l.jsx)("p",{className:"about__text",onDoubleClick:function(){return j(!0)},children:c})}),Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)("div",{className:"about__link",children:"Lets try it!"})})]})}),C=(n(52),function(){var e=Object(i.p)().id,t=Object(r.useState)(null),n=Object(f.a)(t,2),c=n[0],a=n[1],s=function(){var t=Object(d.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,_(n);case 3:r=t.sent,a(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){s(e)}),[]),console.log(c),Object(l.jsx)(l.Fragment,{children:c?Object(l.jsxs)("div",{className:"info",children:[Object(l.jsx)("h1",{className:"info__title",children:"URL Info page"}),Object(l.jsxs)("p",{className:"info__full",children:["Full URL: ",Object(l.jsx)("a",{href:c.value.fullUrl,children:c.value.fullUrl})]}),Object(l.jsxs)("p",{className:"info__short",children:["Short URL: ",Object(l.jsx)("a",{href:"https://localhost:7258/ShortUrl/GetShort?shortUrl=".concat(c.value.shortUrl),children:"https://localhost:7258/ShortUrl/GetShort?shortUrl=".concat(c.value.shortUrl)})]})]}):Object(l.jsx)(O.a,{visible:!0,height:"80",width:"80",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"})})}),G=(n(53),Object(r.memo)((function(){return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)(o.b,{to:"/",className:"header__logo-link",children:Object(l.jsx)("img",{className:"header__logo",src:y,alt:"NiceGadgets logo"})}),Object(l.jsx)("nav",{className:"nav",children:Object(l.jsxs)("ul",{className:"nav__list",children:[Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(o.c,{to:"/",className:"nav__link",children:"home"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(o.c,{to:"/about",className:"nav__link",children:"About"})})]})})]})}))),F=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(G,{}),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{path:"/about",element:Object(l.jsx)(E,{})}),Object(l.jsx)(i.b,{path:"*",element:Object(l.jsx)(u,{})}),Object(l.jsx)(i.b,{path:"/home",element:Object(l.jsx)(i.a,{to:"/",replace:!0})}),Object(l.jsx)(i.b,{path:"/",element:Object(l.jsx)(k,{})}),Object(l.jsx)(i.b,{path:"/:id",element:Object(l.jsx)(C,{})})]})})]})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(F,{})})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.11b4da85.chunk.js.map